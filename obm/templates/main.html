{% extends 'base.html' %}
{% load django_bootstrap5 %}

{% block content %}

<h1>여기는 메인 여기는 메인</h1>

<h1>오킹의 유튜브 </h1>
<p>
   <div class="rectangle"> 
    <a href='https://www.youtube.com/@oking1025'>
        <img src='media\design\프사\유튜브 프사.jpg'class='profile'>오킹 유튜브
        <img src='media\design\유튜브.avif' style ='transform : rotate(20deg); position:relative; top:-20px; right:0px; width:60px; height:40px;'>
    </div></a>
    <a href='https://www.youtube.com/@oking_replay'><img src='media\design\프사\다시보기 프사.jpg'class='profile'>오킹의 생방송 다시보기</a></p>
<p>
    <a href='https://www.youtube.com/@oking_game'><img src ='media\design\프사\오락킹.jpg' class='profile'>오락킹</a>
    <a href='https://www.youtube.com/@oking_shorts'>숏킹 유튜브</a>
</p>

<h1>오킹의 생방송</h1>
<p>
<a href='https://www.twitch.tv/obm1025'><img src ='media\design\프사\트위치 프사.jpg' class='profile'>오킹 트위치 생방송</a>
<a href='https://twip.kr/obm1025'>오킹 도네이션</a>
</p>
<p><a href='https://toon.at/donate/636948034831794621'>오킹 투네이션</a></p>
<h1>오킹의 SNS</h1>
<p><a href='https://cafe.naver.com/okingrooftop'>옼탑방 팬카페</a>
<a href='https://www.instagram.com/oking1025/'>오킹 인스타</a></p>
<p><a href='https://www.facebook.com/oking1025'>오킹 페이스북</a>
<a href='https://www.tiktok.com/@oking1025?lang=ko-KR'><img src='media\design\프사\틱톡 프사.jpg'class='profile'>오킹 틱톡</a>
</p>


<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>

<script>
    // 모달 띄우기 코드
    const modal = document.getElementById("modal_add_feed");
    const buttonAddFeed = document.getElementById("add_feed");
    buttonAddFeed.addEventListener("click", e => {
        modal.style.top = window.pageYOffset + 'px'; // top을 이용해 시작 y위치를 바꿔줌
        modal.style.display = "flex";
        document.body.style.overflowY = "hidden"; // 스크롤 없애기
    });

    // 모달 닫기 코드
    const buttonCloseModal = document.getElementById("close_modal");
    buttonCloseModal.addEventListener("click", e => {
        modal.style.display = "none";
        document.body.style.overflowY = "visible";
    });

<!-- jquery 부분 -->

    $('.modal_image_upload')
        .on("dragover", dragOver)
        .on("dragleave", dragOver)
        .on("drop", uploadFiles);

    function dragOver(e){
        e.stopPropagation();
        e.preventDefault();
        
        if (e.type == "dragover") {
            $(e.target).css({
                "background-color": "black",
                "outline-offset": "-20px"
            });
        } else {
            $(e.target).css({
                "background-color": "white",
                "outline-offset": "-10px"
            });
        }
    }

    function uploadFiles(e){
        e.stopPropagation();
        e.preventDefault();
        
        e.dataTransfer = e.originalEvent.dataTransfer; 
        var files =  e.dataTransfer.files;

        if (files.length > 1) {
            alert('하나만 올려라.');
            return;
        }

        if (files[0].type.match(/image.*/)) {
            $(e.target).css({
                "background-image": "url(" + window.URL.createObjectURL(files[0]) + ")",
                "outline": "none",
                "background-size": "100% 100%"});
        }else{
            alert('이미지가 아닙니다.');
            return;
        }

    }

</script>

{% endblock content %}